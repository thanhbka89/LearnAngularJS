<!DOCTYPE html>
<html>

<head>
    <title>AngularJS Custom Directive</title>
    <script src="../app/lib/js/jquery-2.1.4.min.js"></script>
    <script src="../app/components/angular.min.js"></script>
    <script src="../public/libs/ng-infinite-scroll.min.js"></script>
    <style media="screen">
      img {margin: 20px}
    </style>
</head>

<body>
    <div ng-app="myApp" ng-controller="DemoController">
        <div infinite-scroll='loadMore()' infinite-scroll-distance='2'>
            <img ng-repeat='image in images' ng-src='http://placehold.it/225x250&text={{image}}'>
        </div>
    </div>

    <script>
        var myapp = angular.module("myApp", ['infinite-scroll']);
        myapp.controller('DemoController', function($scope) {
            $scope.images = [1, 2, 3, 4, 5, 6, 7, 8];

            $scope.loadMore = function() { console.log('ok');
                var last = $scope.images[$scope.images.length - 1];
                for (var i = 1; i <= 8; i++) {
                    $scope.images.push(last + i);
                }
            };
        });
    </script>
</body>

</html>
